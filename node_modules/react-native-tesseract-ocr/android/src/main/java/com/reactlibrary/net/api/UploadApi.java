package com.reactlibrary.net.api;

import okhttp3.MultipartBody;
import okhttp3.RequestBody;
import okhttp3.ResponseBody;
import retrofit2.Call;
import retrofit2.http.GET;
import retrofit2.http.Multipart;
import retrofit2.http.POST;
import retrofit2.http.Part;
import retrofit2.http.Path;
import rx.Observable;

/**
 * author : yingli
 * time   : 8/9/18
 * desc   :
 */
public interface UploadApi {
    @Multipart
    @POST("{link}")
    Call<ResponseBody> uploadItem(
            @Part MultipartBody.Part file,
            @Part("parent_dir") String parentDir,
            @Path("link") String link
    );

    @GET("{server}repos/{repo}/upload-link/")
    Call<ResponseBody> getUploadLink(
            @Path("server") String server,
            @Path("repo") String repo
    );


    @GET("{server}repos/{library}/dir/?t=f&recursive=0&p={path}")
    Call<ResponseBody> getDirectories(
            @Path("server") String server,
            @Path("library") String library,
            @Path("path") String path
    );
}
